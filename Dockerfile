# Используем официальный образ Node.js
FROM node:14

# Создаем директорию для приложения внутри контейнера
WORKDIR /app

# Копируем зависимости для сервера
COPY package*.json ./

# Устанавливаем зависимости для сервера
RUN npm install

# Копируем код сервера
COPY server.mjs ./

# Копируем код клиента и статические файлы
COPY static/ ./static/

# Экспонируем порт, на котором работает сервер (3000)
EXPOSE 3000

# Команда для запуска сервера
CMD ["node", "server.mjs"]
